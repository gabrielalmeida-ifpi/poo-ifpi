"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var perfil_js_1 = require("./classes/perfil.js");
var postagem_js_1 = require("./classes/postagem.js");
var postagem_avancada_js_1 = require("./classes/postagem-avancada.js");
var rede_social_js_1 = require("./classes/rede-social.js");
var repositorio_perfis_js_1 = require("./classes/repositorio-perfis.js");
var repositorio_postagens_js_1 = require("./classes/repositorio-postagens.js");
var prompt_sync_1 = require("prompt-sync");
var input = (0, prompt_sync_1.default)();
var idGlobal = 1;
var idPostGlobal = 1;
var opcoesDeFormato = {
    hour12: true
};
var App = /** @class */ (function () {
    function App(redeSocial) {
        this._redeSocial = redeSocial;
    }
    App.prototype.menu = function () {
        var opcao = 0;
        console.clear();
        console.log("\n            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n            \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n             \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n             \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n             \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n             \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n             \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n             \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n            \n\n            \u2756 MENU DE OPCOES \u2756\n\n            1. Feed\n            2. Cadastrar Perfil\n            3. Consultar Perfil\n            4. Criar Postagem\n            5. Consultar Postagem (ID)\n            6. Consultar Postagens (Perfil)\n            7. Consultar Postagens (Hashtags)\n            8. Curtir\n            9. Descurtir\n            10. Exibir Perfis Populares\n            0. Sair\n");
        opcao = +input("Opcao: ");
        switch (opcao) {
            case 1:
                this.feed();
                break;
            case 2:
                this.cadastrarPerfil();
                break;
            case 3:
                this.consultarPerfil();
                break;
            case 4:
                this.criarPostagem();
                break;
            case 5:
                this.consultarPostId();
            case 6:
                this.consultarPorPerfil();
            case 7:
                this.consultarHashtag();
            case 8:
                break;
            case 9:
                break;
            case 10:
                this.exibirPerfisPopulares();
            default:
                break;
        }
        console.log("Aplicação encerrada");
    };
    App.prototype.consultarHashtag = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                    \u2756 CONSULTAR POST POR HASHTAG \u2756\n");
        var hash = input("      Hashtag: ");
        var postComHashtags = this._redeSocial.repoPostagens.postagens.filter(function (postagem) {
            return (postagem instanceof postagem_avancada_js_1.PostagemAvancada) && (postagem.existeHashtag(hash));
        });
        var postagens = postComHashtags;
        for (var i = 0; i < postagens.length; i++) {
            var post = postagens[i];
            console.log("\n            \u001B[1m@".concat(post.perfil.user, "\u001B[0m\n\n            ").concat(post.data.toLocaleString('pt-BR', opcoesDeFormato), "\n\n            ").concat(this.quebrarTextoEmLinhas(post.texto, 50)));
            var hashtags = "";
            if (post instanceof postagem_avancada_js_1.PostagemAvancada) {
                for (var _i = 0, _a = post.hashtags; _i < _a.length; _i++) {
                    var hash_1 = _a[_i];
                    hashtags += "#" + hash_1 + " ";
                }
                console.log("\n            \u001B[94m".concat(hashtags, "\u001B[0m"));
                this._redeSocial.decrementarVisualizacoes(post);
            }
            console.log("\n            \u25B2 ".concat(post.curtidas, "    \u25BC ").concat(post.descurtidas, "\n"));
        }
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.consultarPorPerfil = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                    \u2756 CONSULTAR POST POR PERFIL \u2756\n");
        var user = input("      User: ");
        var perfil = this._redeSocial.consultarPerfil(undefined, user);
        var postagem = this._redeSocial.consultarPostagem(undefined, undefined, undefined, perfil);
        var postagens = postagem;
        for (var i = 0; i < postagens.length; i++) {
            var post = postagens[i];
            console.log("\n            \u001B[1m@".concat(post.perfil.user, "\u001B[0m\n\n            ").concat(post.data.toLocaleString('pt-BR', opcoesDeFormato), "\n\n            ").concat(this.quebrarTextoEmLinhas(post.texto, 50)));
            var hashtags = "";
            if (post instanceof postagem_avancada_js_1.PostagemAvancada) {
                for (var _i = 0, _a = post.hashtags; _i < _a.length; _i++) {
                    var hash = _a[_i];
                    hashtags += "#" + hash + " ";
                }
                console.log("\n            \u001B[94m".concat(hashtags, "\u001B[0m"));
                this._redeSocial.decrementarVisualizacoes(post);
            }
            console.log("\n            \u25B2 ".concat(post.curtidas, "    \u25BC ").concat(post.descurtidas, "\n"));
        }
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.consultarPostId = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                    \u2756 CONSULTAR POST POR ID \u2756\n");
        var id = +input("      Id: ");
        var postagem = this._redeSocial.consultarPostagem(id);
        var post = postagem[0];
        console.log("\n            \u001B[1m@".concat(post.perfil.user, "\u001B[0m\n\n            ").concat(post.data.toLocaleString('pt-BR', opcoesDeFormato), "\n\n            ").concat(this.quebrarTextoEmLinhas(post.texto, 50)));
        var hashtags = "";
        if (post instanceof postagem_avancada_js_1.PostagemAvancada) {
            for (var _i = 0, _a = post.hashtags; _i < _a.length; _i++) {
                var hash = _a[_i];
                hashtags += "#" + hash + " ";
            }
            console.log("\n            \u001B[94m".concat(hashtags, "\u001B[0m"));
            this._redeSocial.decrementarVisualizacoes(post);
        }
        console.log("\n            \u25B2 ".concat(post.curtidas, "    \u25BC ").concat(post.descurtidas, "\n"));
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.criarPostagem = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                        \u2756 CRIAR POSTAGEM \u2756\n");
        var userPerfil = input("User: ");
        var perfil = this._redeSocial.consultarPerfil(undefined, userPerfil);
        var texto = input("Conteudo: ");
        var escolha = input("Adicionar hashtags (s/n): ");
        var id = idPostGlobal;
        idPostGlobal++;
        if (perfil) {
            if (escolha == 's' || escolha == 'S') {
                var postAvan = new postagem_avancada_js_1.PostagemAvancada(id, texto, 0, 0, new Date(), perfil, 100);
                this._redeSocial.incluirPostagem(postAvan);
                var hashtags = input("Digite a(s) hahstags que deseja adicionar (separadas por espaco: ");
                var arrayHashtags = hashtags.split(" ");
                for (var _i = 0, arrayHashtags_1 = arrayHashtags; _i < arrayHashtags_1.length; _i++) {
                    var hash = arrayHashtags_1[_i];
                    postAvan.adicionarHashtags(hash);
                }
            }
            else {
                var post = new postagem_js_1.Postagem(id, texto, 0, 0, new Date(), perfil);
                this._redeSocial.incluirPostagem(post);
            }
            if (this._redeSocial.consultarPostagem(id)) {
                console.log("\nPostagem criada com sucesso!");
            }
            else {
                console.log("\nERRO! Falha na criacao.");
            }
        }
        else {
            console.log("\nERRO! Perfil inexistente, ou falha na criacao.");
        }
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.cadastrarPerfil = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                        \u2756 CADASTRAR PERFIL \u2756\n");
        var user = input("      User: ");
        var email = input("      E-mail: ");
        var id = idGlobal;
        idGlobal++;
        if (this._redeSocial.incluirPerfil(new perfil_js_1.Perfil(id, user, email))) {
            console.log("\nPerfil cadastrado com sucesso!");
        }
        else {
            console.log("\nERRO! Perfil existente, ou falha no cadastro.");
        }
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.consultarPerfil = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                        \u2756 CONSULTAR PERFIL \u2756\n");
        console.log("       Preencha os que quiser.\n");
        var id = +input("      Id: ");
        var user = input("      User: ");
        var email = input("      E-mail: ");
        var perfil = this._redeSocial.consultarPerfil(id, user, email);
        if (perfil) {
            console.log("\n        Perfil Encontrado:\n\n        Id: ".concat(perfil.id, "\n        User: ").concat(perfil.user, "\n        E-mail: ").concat(perfil.email, "\n            "));
        }
        else {
            console.log("\n     Perfil nao encontrado!");
        }
        input("\nPressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.feed = function () {
        console.clear();
        console.log("\n        \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                \u2588\u2588\u2588\u2588\u2588\u2588            \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                    \u2588\u2588\u2588\u2588\u2588     \n        \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588              \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588          \u2591\u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588                  \u2591\u2591\u2588\u2588\u2588      \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2588\u2588\u2588 \u2591\u2591\u2591   \u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2591\u2588\u2588\u2588\u2591      \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2591\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2591  \n         \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588  \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588   \u2591\u2588\u2588\u2588      \u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588  \u2591\u2588\u2588\u2588    \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588 \u2591\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588 \n         \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588    \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588 \u2591\u2591\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\n         \u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591\u2591      \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591   \u2591\u2591\u2591\u2591\u2591\u2591  \u2591\u2591\u2591\u2591 \u2591\u2591\u2591\u2591\u2591\n        \n\n                                            \u2756 FEED \u2756\n");
        var postagens = this._redeSocial.repoPostagens.postagens;
        for (var i = 0; i < postagens.length; i++) {
            var post = postagens[i];
            console.log("\n            \u001B[1m@".concat(post.perfil.user, "\u001B[0m\n\n            ").concat(post.data.toLocaleString('pt-BR', opcoesDeFormato), "\n\n            ").concat(this.quebrarTextoEmLinhas(post.texto, 50)));
            var hashtags = "";
            if (post instanceof postagem_avancada_js_1.PostagemAvancada) {
                for (var _i = 0, _a = post.hashtags; _i < _a.length; _i++) {
                    var hash = _a[_i];
                    hashtags += "#" + hash + " ";
                }
                console.log("\n            \u001B[94m".concat(hashtags, "\u001B[0m"));
                this._redeSocial.decrementarVisualizacoes(post);
            }
            console.log("\n            \u25B2 ".concat(post.curtidas, "    \u25BC ").concat(post.descurtidas, "\n"));
        }
        input("\n       Pressione Enter para retornar ao menu...");
        this.menu();
    };
    App.prototype.exibirPerfisPopulares = function () {
        var perfis = redeSocial.exibirPerfisPopulares(redeSocial.repoPerfis);
        for (var _i = 0, perfis_1 = perfis; _i < perfis_1.length; _i++) {
            var perfil = perfis_1[_i];
            console.log("ID: ".concat(perfil.id));
            console.log("Nome: ".concat(perfil.user));
            console.log("Usuários Bloqueados: ");
            for (var _a = 0, _b = perfil.bloqueados; _a < _b.length; _a++) {
                var bloqueado = _b[_a];
                console.log("".concat(bloqueado.user));
            }
        }
    };
    App.prototype.quebrarTextoEmLinhas = function (texto, maxCaracteresPorLinha) {
        var palavras = texto.split(' ');
        var linhaAtual = '';
        var linhas = [];
        for (var _i = 0, palavras_1 = palavras; _i < palavras_1.length; _i++) {
            var palavra = palavras_1[_i];
            if (linhaAtual.length + palavra.length + 1 <= maxCaracteresPorLinha) {
                linhaAtual += (linhaAtual.length > 0 ? ' ' : '') + palavra;
            }
            else {
                linhas.push(linhaAtual);
                linhaAtual = palavra;
            }
        }
        linhas.push(linhaAtual);
        return linhas.join('\n            ');
    };
    return App;
}());
var redeSocial = new rede_social_js_1.RedeSocial(new repositorio_perfis_js_1.RepositorioDePerfis, new repositorio_postagens_js_1.RepositorioDePostagens);
var app = new App(redeSocial);
app.menu();
